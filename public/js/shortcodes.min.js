function bestdeals_sc_animation(){jQuery('[data-animation^="animated"]:not(.animated)').each(function(){"use strict";jQuery(this).offset().top<jQuery(window).scrollTop()+jQuery(window).height()&&jQuery(this).addClass(jQuery(this).data("animation"))})}function bestdeals_sc_init(e){e.find(".sc_accordion:not(.inited)").length>0&&e.find(".sc_accordion:not(.inited)").each(function(){"use strict";var e=jQuery(this).data("active");e=isNaN(e)?0:Math.max(0,e),jQuery(this).addClass("inited").accordion({active:e,heightStyle:"content",header:"> .sc_accordion_item > .sc_accordion_title",create:function(e,t){bestdeals_init_shortcodes(t.panel),window.bestdeals_init_hidden_elements&&bestdeals_init_hidden_elements(t.panel),t.header.each(function(){jQuery(this).parent().addClass("sc_active")})},activate:function(e,t){bestdeals_init_shortcodes(t.newPanel),window.bestdeals_init_hidden_elements&&bestdeals_init_hidden_elements(t.newPanel),t.newHeader.each(function(){jQuery(this).parent().addClass("sc_active")}),t.oldHeader.each(function(){jQuery(this).parent().removeClass("sc_active")})}})}),e.find(".sc_contact_form:not(.inited) form").length>0&&e.find(".sc_contact_form:not(.inited) form").addClass("inited").submit(function(e){"use strict";return bestdeals_contact_form_validate(jQuery(this)),e.preventDefault(),!1}),e.find(".sc_countdown:not(.inited)").length>0&&e.find(".sc_countdown:not(.inited)").each(function(){"use strict";jQuery(this).addClass("inited");var e=(jQuery(this).attr("id"),new Date),t=e.getFullYear()+"-"+(e.getMonth()<9?"0":"")+(e.getMonth()+1)+"-"+(e.getDate()<10?"0":"")+e.getDate()+" "+(e.getHours()<10?"0":"")+e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()+":"+(e.getSeconds()?"0":"")+e.getSeconds(),i=1,s=jQuery(this).data("date"),a=s.split("-"),n=jQuery(this).data("time"),r=n.split(":"),d=s+" "+n;d>t?jQuery(this).find(".sc_countdown_placeholder").countdown({until:new Date(a[0],a[1]-1,a[2],r[0],r[1],r[2]),tickInterval:i,onTick:bestdeals_countdown}):jQuery(this).find(".sc_countdown_placeholder").countdown({since:new Date(a[0],a[1]-1,a[2],r[0],r[1],r[2]),tickInterval:i,onTick:bestdeals_countdown})}),e.find(".sc_emailer:not(.inited)").length>0&&e.find(".sc_emailer:not(.inited)").addClass("inited").find(".sc_emailer_button").click(function(e){"use strict";var t=jQuery(this).parents("form"),i=jQuery(this).parents(".sc_emailer");if(i.hasClass("sc_emailer_opened"))if(t.length>0&&""!=t.find("input").val()){var s=jQuery(this).data("group"),a=t.find("input").val(),n=new RegExp(BESTDEALS_GLOBALS.email_mask);n.test(a)?jQuery.post(BESTDEALS_GLOBALS.ajax_url,{action:"emailer_submit",nonce:BESTDEALS_GLOBALS.ajax_nonce,group:s,email:a}).done(function(e){var i=JSON.parse(e);""===i.error?(bestdeals_message_info(BESTDEALS_GLOBALS.strings.email_confirm.replace("%s",a)),t.find("input").val("")):bestdeals_message_warning(i.error)}):(t.find("input").get(0).focus(),bestdeals_message_warning(BESTDEALS_GLOBALS.strings.email_not_valid))}else t.get(0).submit();else i.addClass("sc_emailer_opened");return e.preventDefault(),!1}),e.find(".sc_googlemap:not(.inited)").length>0&&e.find(".sc_googlemap:not(.inited)").each(function(){"use strict";if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){var e=jQuery(this).addClass("inited"),t=e.attr("id"),i=e.data("zoom"),s=e.data("style"),a=[];e.find(".sc_googlemap_marker").each(function(){var e=jQuery(this);a.push({point:e.data("point"),address:e.data("address"),latlng:e.data("latlng"),description:e.data("description"),title:e.data("title")})}),bestdeals_googlemap_init(jQuery("#"+t).get(0),{style:s,zoom:i,markers:a})}}),e.find(".sc_infobox.sc_infobox_closeable:not(.inited)").length>0&&e.find(".sc_infobox.sc_infobox_closeable:not(.inited)").addClass("inited").click(function(){jQuery(this).slideUp()}),e.find(".sc_popup_link:not(.inited)").length>0&&e.find(".sc_popup_link:not(.inited)").addClass("inited").magnificPopup({type:"inline",removalDelay:500,midClick:!0,callbacks:{beforeOpen:function(){this.st.mainClass="mfp-zoom-in"},open:function(){},close:function(){}}}),e.find(".search_wrap:not(.inited)").length>0&&e.find(".search_wrap:not(.inited)").each(function(){if(jQuery(this).addClass("inited"),jQuery(this).find(".search_submit").click(function(e){"use strict";var t=jQuery(this).parents(".search_wrap");return t.hasClass("search_state_fixed")?""!=t.find(".search_field").val()?t.find("form").get(0).submit():(t.find(".search_field").val(""),t.find(".search_results").fadeOut()):t.hasClass("search_state_opened")?(jQuery("body").removeClass("PO"),""!=t.find(".search_field").val()?t.find("form").get(0).submit():t.removeClass("search_state_opened").addClass("search_state_closed").find(".search_results").fadeOut()):(jQuery("body").addClass("PO"),t.removeClass("search_state_closed").addClass("search_state_opened").find(".search_field").get(0).focus()),e.preventDefault(),!1}),jQuery(this).find(".search_results_close").click(function(e){"use strict";return jQuery(this).parent().fadeOut(),e.preventDefault(),!1}),jQuery(this).on("click",".search_more",function(e){"use strict";return""!=jQuery(this).parents(".search_wrap").find(".search_field").val()&&jQuery(this).parents(".search_wrap").find("form").get(0).submit(),e.preventDefault(),!1}),jQuery(this).hasClass("search_ajax")){var e=null;jQuery(this).find(".search_field").keyup(function(t){"use strict";var i=jQuery(this),s=i.val();e&&(clearTimeout(e),e=null),s.length>=BESTDEALS_GLOBALS.ajax_search_min_length&&(e=setTimeout(function(){jQuery.post(BESTDEALS_GLOBALS.ajax_url,{action:"ajax_search",nonce:BESTDEALS_GLOBALS.ajax_nonce,text:s}).done(function(t){clearTimeout(e),e=null;var s=JSON.parse(t);""===s.error?(i.parents(".search_ajax").find(".search_results_content").empty().append(s.data),i.parents(".search_ajax").find(".search_results").fadeIn()):bestdeals_message_warning(BESTDEALS_GLOBALS.strings.search_error)})},BESTDEALS_GLOBALS.ajax_search_delay))})}}),e.find(".sc_pan:not(.inited_pan)").length>0&&e.find(".sc_pan:not(.inited_pan)").each(function(){"use strict";if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){var e=jQuery(this).addClass("inited_pan"),t=e.parent();t.mousemove(function(i){var s=e.width(),a=e.height(),n=t.width(),r=t.height(),d=t.offset();e.hasClass("sc_pan_vertical")&&e.css("top",-Math.floor((i.pageY-d.top)/r*(a-r))),e.hasClass("sc_pan_horizontal")&&e.css("left",-Math.floor((i.pageX-d.left)/n*(s-n)))}),t.mouseout(function(t){e.css({left:0,top:0})})}}),e.find(".sc_scroll:not(.inited)").length>0&&e.find(".sc_scroll:not(.inited)").each(function(){"use strict";jQuery(this).parents("div:hidden,article:hidden").length>0||(BESTDEALS_GLOBALS.scroll_init_counter=0,bestdeals_sc_init_scroll_area(jQuery(this)))}),e.find(".sc_slider_swiper:not(.inited)").length>0&&(BESTDEALS_GLOBALS.swipers_min_width=250,e.find(".sc_slider_swiper:not(.inited)").each(function(){"use strict";if(!(jQuery(this).parents("div:hidden,article:hidden").length>0)){jQuery(this).addClass("inited"),bestdeals_sc_slider_autoheight(jQuery(this)),jQuery(this).parents(".sc_slider_pagination_area").length>0&&jQuery(this).parents(".sc_slider_pagination_area").find(".sc_slider_pagination .post_item").eq(0).addClass("active");var e=jQuery(this).attr("id");void 0==e&&(e="swiper_"+Math.random(),e=e.replace(".",""),jQuery(this).attr("id",e)),jQuery(this).addClass(e),jQuery(this).find(".slides .swiper-slide").css("position","relative");var t=jQuery(this).width();0==t&&(t=jQuery(this).parent().width());var i=jQuery(this).data("slides-per-view");void 0==i&&(i=1),t/i<BESTDEALS_GLOBALS.swipers_min_width&&(i=Math.max(1,Math.floor(t/BESTDEALS_GLOBALS.swipers_min_width))),void 0===BESTDEALS_GLOBALS.swipers&&(BESTDEALS_GLOBALS.swipers={}),BESTDEALS_GLOBALS.swipers[e]=new Swiper("."+e,{calculateHeight:!jQuery(this).hasClass("sc_slider_height_fixed"),resizeReInit:!0,autoResize:!0,loop:!0,grabCursor:!0,pagination:jQuery(this).hasClass("sc_slider_pagination")?"#"+e+" .sc_slider_pagination_wrap":!1,paginationClickable:!0,autoplay:jQuery(this).hasClass("sc_slider_noautoplay")?!1:isNaN(jQuery(this).data("interval"))?7e3:jQuery(this).data("interval"),autoplayDisableOnInteraction:!1,initialSlide:0,slidesPerView:i,speed:600,onFirstInit:function(e){var t=jQuery(e.container);if(t.hasClass("sc_slider_height_auto")){var i=t.find(".swiper-slide").eq(1),s=i.data("height_auto");if(s>0){var a=parseInt(i.css("paddingTop")),n=parseInt(i.css("paddingBottom"));i.height(s),t.height(s+(isNaN(a)?0:a)+(isNaN(n)?0:n)),t.find(".swiper-wrapper").height(s+(isNaN(a)?0:a)+(isNaN(n)?0:n))}}},onSlideChangeStart:function(e){var t=jQuery(e.container);if(t.hasClass("sc_slider_height_auto")){var i=e.activeIndex,s=t.find(".swiper-slide").eq(i),a=s.data("height_auto");if(a>0){var n=parseInt(s.css("paddingTop")),r=parseInt(s.css("paddingBottom"));s.height(a),t.height(a+(isNaN(n)?0:n)+(isNaN(r)?0:r)),t.find(".swiper-wrapper").height(a+(isNaN(n)?0:n)+(isNaN(r)?0:r))}}},onSlideChangeEnd:function(e,t){var i=jQuery(e.container);if(i.parents(".sc_slider_pagination_area").length>0){var s=i.parents(".sc_slider_pagination_area").find(".sc_slider_pagination .post_item"),a=e.activeIndex>s.length?0:e.activeIndex-1;bestdeals_sc_change_active_pagination_in_slider(i,a)}}}),jQuery(this).data("settings",{mode:"horizontal"});var s=jQuery(this).find(".slides").data("current-slide");s>0&&BESTDEALS_GLOBALS.swipers[e].swipeTo(s-1),bestdeals_sc_prepare_slider_navi(jQuery(this))}}),bestdeals_sc_sliders_resize()),e.find(".sc_skills_item:not(.inited)").length>0&&(bestdeals_sc_init_skills(e),jQuery(window).scroll(function(){bestdeals_sc_init_skills(e)})),e.find(".sc_skills_arc:not(.inited)").length>0&&(bestdeals_sc_init_skills_arc(e),jQuery(window).scroll(function(){bestdeals_sc_init_skills_arc(e)})),e.find(".sc_tabs:not(.inited),.tabs_area:not(.inited)").length>0&&e.find(".sc_tabs:not(.inited),.tabs_area:not(.inited)").each(function(){var e=jQuery(this).data("active");e=isNaN(e)?0:Math.max(0,e),jQuery(this).addClass("inited").tabs({active:e,show:{effect:"fadeIn",duration:300},hide:{effect:"fadeOut",duration:300},create:function(e,t){bestdeals_init_shortcodes(t.panel),window.bestdeals_init_hidden_elements&&bestdeals_init_hidden_elements(t.panel)},activate:function(e,t){bestdeals_init_shortcodes(t.newPanel),window.bestdeals_init_hidden_elements&&bestdeals_init_hidden_elements(t.newPanel)}})}),e.find(".sc_toggles .sc_toggles_title:not(.inited)").length>0&&e.find(".sc_toggles .sc_toggles_title:not(.inited)").addClass("inited").click(function(){jQuery(this).toggleClass("ui-state-active").parent().toggleClass("sc_active"),jQuery(this).parent().find(".sc_toggles_content").slideToggle(300,function(){bestdeals_init_shortcodes(jQuery(this).parent().find(".sc_toggles_content")),window.bestdeals_init_hidden_elements&&bestdeals_init_hidden_elements(jQuery(this).parent().find(".sc_toggles_content"))})}),e.find(".sc_zoom:not(.inited)").length>0&&e.find(".sc_zoom:not(.inited)").each(function(){"use strict";jQuery(this).parents("div:hidden,article:hidden").length>0||(jQuery(this).addClass("inited"),jQuery(this).find("img").elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,lensBorderSize:4,lensBorderColour:"#ccc"}))})}function bestdeals_sc_init_scroll_area(e){if(!bestdeals_check_images_complete(e)&&BESTDEALS_GLOBALS.scroll_init_counter++<30)return void setTimeout(function(){bestdeals_sc_init_scroll_area(e)},200);e.addClass("inited");var t=e.attr("id");void 0==t&&(t="scroll_"+Math.random(),t=t.replace(".",""),e.attr("id",t)),e.addClass(t);var i=e.find("#"+t+"_bar");i.length>0&&!i.hasClass(t+"_bar")&&i.addClass(t+"_bar"),void 0===BESTDEALS_GLOBALS.swipers&&(BESTDEALS_GLOBALS.swipers={}),BESTDEALS_GLOBALS.swipers[t]=new Swiper("."+t,{calculateHeight:!1,resizeReInit:!0,autoResize:!0,freeMode:!0,freeModeFluid:!0,grabCursor:!0,noSwiping:e.hasClass("scroll-no-swiping"),mode:e.hasClass("sc_scroll_vertical")?"vertical":"horizontal",slidesPerView:e.hasClass("sc_scroll")?"auto":1,mousewheelControl:!0,mousewheelAccelerator:4,scrollContainer:e.hasClass("sc_scroll_vertical"),scrollbar:{container:"."+t+"_bar",hide:!0,draggable:!0}}),e.data("settings",{mode:"horizontal"}),bestdeals_sc_prepare_slider_navi(e)}function bestdeals_sc_prepare_slider_navi(e){var t=e.find("> .sc_slider_controls_wrap, > .sc_scroll_controls_wrap");0==t.length&&(t=e.siblings(".sc_slider_controls_wrap,.sc_scroll_controls_wrap")),t.length>0&&(t.find(".sc_slider_prev,.sc_scroll_prev").click(function(e){var t=jQuery(this).parents(".swiper-slider-container");0==t.length&&(t=jQuery(this).parents(".sc_slider_controls_wrap,.sc_scroll_controls_wrap").siblings(".swiper-slider-container"));var i=t.attr("id");return BESTDEALS_GLOBALS.swipers[i].swipePrev(),e.preventDefault(),!1}),t.find(".sc_slider_next,.sc_scroll_next").click(function(e){var t=jQuery(this).parents(".swiper-slider-container");0==t.length&&(t=jQuery(this).parents(".sc_slider_controls_wrap,.sc_scroll_controls_wrap").siblings(".swiper-slider-container"));var i=t.attr("id");return BESTDEALS_GLOBALS.swipers[i].swipeNext(),e.preventDefault(),!1})),t=e.siblings(".sc_slider_pagination"),t.length>0&&t.find(".post_item").click(function(e){var t=jQuery(this).parents(".sc_slider_pagination_area").find(".swiper-slider-container"),i=t.attr("id");return BESTDEALS_GLOBALS.swipers[i].swipeTo(jQuery(this).index()),e.preventDefault(),!1})}function bestdeals_sc_change_active_pagination_in_slider(e,t){var i=e.parents(".sc_slider_pagination_area").find(".sc_slider_pagination");if(0!=i.length){i.find(".post_item").removeClass("active").eq(t).addClass("active");var s=i.height(),a=i.find(".active").offset().top-i.offset().top,n=i.find(".sc_scroll_wrapper").offset().top-i.offset().top,r=i.find(".active").height();0>a?i.find(".sc_scroll_wrapper").css({transform:"translate3d(0px, 0px, 0px)","transition-duration":"0.3s"}):a+r>=s&&i.find(".sc_scroll_wrapper").css({transform:"translate3d(0px, -"+(Math.abs(n)+a-s/4)+"px, 0px)","transition-duration":"0.3s"})}}function bestdeals_sc_slider_autoheight(e){e.hasClass(".sc_slider_height_auto")&&e.find(".swiper-slide").each(function(){void 0==jQuery(this).data("height_auto")&&jQuery(this).attr("data-height_auto",jQuery(this).height())})}function bestdeals_sc_sliders_resize(){var e=arguments[0]?arguments[0]:".sc_slider_swiper.inited";jQuery(e).each(function(){"use strict";var e=jQuery(this).attr("id"),t=jQuery(this).width(),i=jQuery(this).data("last-width");if(isNaN(i)&&(i=0),0==i||i!=t){var s=jQuery(this).data("slides-per-view");void 0==s&&(s=1),t/s<BESTDEALS_GLOBALS.swipers_min_width&&(s=Math.max(1,Math.floor(t/BESTDEALS_GLOBALS.swipers_min_width))),jQuery(this).data("last-width",t),BESTDEALS_GLOBALS.swipers[e].params.slidesPerView!=s&&(BESTDEALS_GLOBALS.swipers[e].params.slidesPerView=s,BESTDEALS_GLOBALS.swipers[e].resizeFix(!0))}}),jQuery(".sc_slider_pagination_area").each(function(){"use strict";var e=jQuery(this).find(".sc_slider").height();e&&(jQuery(this).height(e),jQuery(this).find(".sc_slider_pagination").height(e),jQuery(this).find(".sc_slider_pagination .sc_scroll_vertical").height(e))})}function bestdeals_sc_init_skills(e){if(0==arguments.length)var e=jQuery("body");var t=jQuery(window).scrollTop()+jQuery(window).height();e.find(".sc_skills_item:not(.inited)").each(function(){var e=jQuery(this),i=e.offset().top;if(t>i){e.addClass("inited");var s=e.parents(".sc_skills").eq(0),a=s.data("type"),n="pie"==a&&s.hasClass("sc_skills_compact_on")?e.find(".sc_skills_data .pie"):e.find(".sc_skills_total").eq(0),r=parseInt(n.data("start")),d=parseInt(n.data("stop")),o=parseInt(n.data("max")),l=Math.round(r/o*100),c=Math.round(d/o*100),_=n.data("ed"),h=parseInt(n.data("duration")),u=parseInt(n.data("speed")),p=parseInt(n.data("step"));if("bar"==a){var f=s.data("dir"),g=e.find(".sc_skills_count").eq(0);"horizontal"==f?g.css("width",l+"%").animate({width:c+"%"},h):"vertical"==f&&g.css("height",l+"%").animate({height:c+"%"},h),bestdeals_sc_animate_skills_counter(r,d,u-("unknown"!=f?5:0),p,_,n)}else if("counter"==a)bestdeals_sc_animate_skills_counter(r,d,u-5,p,_,n);else if("pie"==a){var m=parseInt(n.data("steps")),v=n.data("bg_color"),w=n.data("border_color"),y=parseInt(n.data("cutout")),S=n.data("easing"),j={segmentShowStroke:!0,segmentStrokeColor:w,segmentStrokeWidth:1,percentageInnerCutout:y,animationSteps:m,animationEasing:S,animateRotate:!0,animateScale:!1},Q=[];n.each(function(){var e=jQuery(this).data("color"),t=parseInt(jQuery(this).data("stop")),i=Math.round(t/o*100);Q.push({value:i,color:e})}),1==n.length&&(bestdeals_sc_animate_skills_counter(r,d,Math.round(1500/m),p,_,n),Q.push({value:100-c,color:v}));var L=e.find("canvas");L.attr({width:e.width(),height:e.width()}).css({width:e.width(),height:e.height()}),new Chart(L.get(0).getContext("2d")).Doughnut(Q,j)}}})}function bestdeals_sc_animate_skills_counter(e,t,i,s,a,n){e=Math.min(t,e+s),n.text(e+a),t>e&&setTimeout(function(){bestdeals_sc_animate_skills_counter(e,t,i,s,a,n)},i)}function bestdeals_sc_init_skills_arc(e){if(0==arguments.length)var e=jQuery("body");e.find(".sc_skills_arc:not(.inited)").each(function(){var e=jQuery(this);e.addClass("inited");var t=e.find(".sc_skills_data .arc"),i=e.find(".sc_skills_arc_canvas").eq(0),s=e.find(".sc_skills_legend").eq(0),a=Math.round(e.width()-s.width()),n=Math.floor(a/2),r={random:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},diagram:function(){var s=Raphael(i.attr("id"),a,a),d=hover=Math.round(a/2/t.length),o=Math.round(((a-20)/2-d)/t.length),l=Math.round(a/9/t.length),c=400;s.circle(n,n,Math.round(a/2)).attr({stroke:"none",fill:BESTDEALS_GLOBALS.template_skin_bg_color?BESTDEALS_GLOBALS.template_skin_bg_color:"#ffffff"});var _=s.text(n,n,e.data("caption")).attr({font:Math.round(.75*d)+'px "'+BESTDEALS_GLOBALS.template_font+'"',fill:BESTDEALS_GLOBALS.template_skin_color?BESTDEALS_GLOBALS.template_skin_color:"#909090"}).toFront();d-=Math.round(o/2),s.customAttributes.arc=function(e,t,i){var s=3.6*e,a=360==s?359.99:s,d=r.random(91,240),o=(d-a)*Math.PI/180,l=d*Math.PI/180,c=n+i*Math.cos(l),_=n-i*Math.sin(l),h=n+i*Math.cos(o),u=n-i*Math.sin(o),p=[["M",c,_],["A",i,i,0,+(a>180),1,h,u]];return{path:p,stroke:t}},t.each(function(t){var i=jQuery(this),a=i.find(".color").val(),n=i.find(".percent").val(),r=i.find(".text").text();d+=o;var h=s.path().attr({arc:[n,a,d],"stroke-width":l});h.mouseover(function(){this.animate({"stroke-width":hover,opacity:.75},1e3,"elastic"),"VML"!=Raphael.type&&this.toFront(),_.stop().animate({opacity:0},c,">",function(){this.attr({text:(r?r+"\n":"")+n+"%"}).animate({opacity:1},c,"<")})}).mouseout(function(){this.stop().animate({"stroke-width":l,opacity:1},4*c,"elastic"),_.stop().animate({opacity:0},c,">",function(){_.attr({text:e.data("caption")}).animate({opacity:1},c,"<")})})})}};r.diagram()})}function bestdeals_countdown(e){for(var t=jQuery(this).parent(),i=3;i<e.length;i++){var s=(e[i]<10?"0":"")+e[i];t.find(".sc_countdown_item").eq(i-3).find(".sc_countdown_digits span").addClass("hide");for(var a=s.length-1;a>=0;a--)t.find(".sc_countdown_item").eq(i-3).find(".sc_countdown_digits span").eq(a+(3==i&&s.length<3?1:0)).removeClass("hide").text(s.substr(a,1))}}jQuery(document).ready(function(){"use strict";setTimeout(function(){bestdeals_sc_animation()},600)}),jQuery(window).resize(function(){"use strict";bestdeals_sc_sliders_resize()});